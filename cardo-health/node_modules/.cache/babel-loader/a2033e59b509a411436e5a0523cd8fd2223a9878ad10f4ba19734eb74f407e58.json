{"ast":null,"code":"import { getToken } from './token';\nexport const authAPI = async function (path) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let credentials = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  const authToken = getToken();\n  const options = {\n    method: 'POST',\n    mode: 'cors',\n    cache: 'no-cache',\n    credentials: 'same-origin',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    referrerPolicy: 'no-referrer',\n    body: JSON.stringify(data)\n  };\n  if (authToken) options.headers['Authorization'] = authToken;\n  return fetch('http://localhost:3001/' + path, options).then(data => {\n    if (data.status >= 500) {\n      window.alert(`There was an error:\\n${data.body}`);\n    }\n    console.log(\"------------\");\n    console.log('Data');\n    console.log(data);\n    console.log(\"------------\");\n    return data.json();\n  }).catch(e => {\n    debugger;\n    console.log(\"------------\");\n    console.log('e');\n    console.log(e);\n    console.log(\"------------\");\n    window.alert('There was an error');\n  });\n};","map":{"version":3,"names":["getToken","authAPI","path","data","credentials","authToken","options","method","mode","cache","headers","referrerPolicy","body","JSON","stringify","fetch","then","status","window","alert","console","log","json","catch","e"],"sources":["/Users/rafaelguerreroclemente/Documents/interviews/cardo-health/src/utils/api.js"],"sourcesContent":["import { getToken } from './token';\n\nexport const authAPI = async (path, data = {}, credentials = true) => {\n    const authToken = getToken();\n\n    const options = {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: { 'Content-Type': 'application/json' },\n        referrerPolicy: 'no-referrer',\n        body: JSON.stringify(data)\n    };\n\n    if(authToken) options.headers['Authorization'] = authToken;\n\n    return fetch('http://localhost:3001/' + path, options)\n                .then(data => {\n                    if(data.status >= 500) {\n                        window.alert(`There was an error:\\n${data.body}`);\n                    } \n                    console.log(\"------------\");\n                    console.log('Data');\n                    console.log(data);\n                    console.log(\"------------\");\n\n                    return data.json();\n                })\n                .catch(e => {\n                    debugger;\n                    console.log(\"------------\");\n                    console.log('e');\n                    console.log(e);\n                    console.log(\"------------\");\n                    window.alert('There was an error');\n                });\n};"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,SAAS;AAElC,OAAO,MAAMC,OAAO,GAAG,gBAAOC,IAAI,EAAoC;EAAA,IAAlCC,IAAI,uEAAG,CAAC,CAAC;EAAA,IAAEC,WAAW,uEAAG,IAAI;EAC7D,MAAMC,SAAS,GAAGL,QAAQ,EAAE;EAE5B,MAAMM,OAAO,GAAG;IACZC,MAAM,EAAE,MAAM;IACdC,IAAI,EAAE,MAAM;IACZC,KAAK,EAAE,UAAU;IACjBL,WAAW,EAAE,aAAa;IAC1BM,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,cAAc,EAAE,aAAa;IAC7BC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACX,IAAI;EAC7B,CAAC;EAED,IAAGE,SAAS,EAAEC,OAAO,CAACI,OAAO,CAAC,eAAe,CAAC,GAAGL,SAAS;EAE1D,OAAOU,KAAK,CAAC,wBAAwB,GAAGb,IAAI,EAAEI,OAAO,CAAC,CACzCU,IAAI,CAACb,IAAI,IAAI;IACV,IAAGA,IAAI,CAACc,MAAM,IAAI,GAAG,EAAE;MACnBC,MAAM,CAACC,KAAK,CAAE,wBAAuBhB,IAAI,CAACS,IAAK,EAAC,CAAC;IACrD;IACAQ,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;IAC3BD,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACnBD,OAAO,CAACC,GAAG,CAAClB,IAAI,CAAC;IACjBiB,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;IAE3B,OAAOlB,IAAI,CAACmB,IAAI,EAAE;EACtB,CAAC,CAAC,CACDC,KAAK,CAACC,CAAC,IAAI;IACR;IACAJ,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;IAC3BD,OAAO,CAACC,GAAG,CAAC,GAAG,CAAC;IAChBD,OAAO,CAACC,GAAG,CAACG,CAAC,CAAC;IACdJ,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;IAC3BH,MAAM,CAACC,KAAK,CAAC,oBAAoB,CAAC;EACtC,CAAC,CAAC;AAClB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}